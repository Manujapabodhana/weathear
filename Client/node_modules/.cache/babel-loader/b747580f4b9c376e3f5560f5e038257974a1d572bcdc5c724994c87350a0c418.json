{"ast":null,"code":"var _jsxFileName = \"D:\\\\aluth project\\\\weathear\\\\Client\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport Header from \"./components/Header\";\nimport SearchBar from \"./components/SearchBar\";\nimport WeatherGrid from \"./components/WeatherGrid\";\nimport WeatherDetail from \"./components/WeatherDetail\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [cities, setCities] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [query, setQuery] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n\n  // load initial list (from cities.json via backend)\n  useEffect(() => {\n    (async () => {\n      try {\n        const {\n          data\n        } = await axios.get(\"/api/weather\");\n        setCities(data.cities || []);\n      } catch (e) {\n        setErr(\"Failed to load weather\");\n      }\n    })();\n  }, []);\n\n  // handle search by name -> open as detail or add to grid\n  async function onSearch(e) {\n    e.preventDefault();\n    const q = query.trim();\n    if (!q) return;\n    try {\n      const {\n        data\n      } = await axios.get(\"/api/weather/by-name\", {\n        params: {\n          name: q\n        }\n      });\n      setSelected(data); // show the detail screen\n      setErr(\"\");\n    } catch {\n      setErr(\"No weather found for that name\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-clouds\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n        query: query,\n        setQuery: setQuery,\n        onSearch: onSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"center\",\n          color: \"#ffb4b4\"\n        },\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), selected ? /*#__PURE__*/_jsxDEV(WeatherDetail, {\n      data: selected,\n      onBack: () => setSelected(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(WeatherGrid, {\n      list: cities,\n      onOpen: setSelected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"aSclFU/YweBWedxrKtNzMudJPJY=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","axios","Header","SearchBar","WeatherGrid","WeatherDetail","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","cities","setCities","selected","setSelected","query","setQuery","err","setErr","data","get","e","onSearch","preventDefault","q","trim","params","name","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","textAlign","color","onBack","list","onOpen","_c","$RefreshReg$"],"sources":["D:/aluth project/weathear/Client/src/App.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./App.css\";\r\nimport Header from \"./components/Header\";\r\nimport SearchBar from \"./components/SearchBar\";\r\nimport WeatherGrid from \"./components/WeatherGrid\";\r\nimport WeatherDetail from \"./components/WeatherDetail\";\r\n\r\nexport default function App() {\r\n  const [cities, setCities] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [err, setErr] = useState(\"\");\r\n\r\n  // load initial list (from cities.json via backend)\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await axios.get(\"/api/weather\");\r\n        setCities(data.cities || []);\r\n      } catch (e) {\r\n        setErr(\"Failed to load weather\");\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  // handle search by name -> open as detail or add to grid\r\n  async function onSearch(e) {\r\n    e.preventDefault();\r\n    const q = query.trim();\r\n    if (!q) return;\r\n\r\n    try {\r\n      const { data } = await axios.get(\"/api/weather/by-name\", {\r\n        params: { name: q },\r\n      });\r\n      setSelected(data); // show the detail screen\r\n      setErr(\"\");\r\n    } catch {\r\n      setErr(\"No weather found for that name\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bg-clouds\" />\r\n      <div className=\"container\">\r\n        <Header />\r\n        <SearchBar query={query} setQuery={setQuery} onSearch={onSearch} />\r\n        {err && <p style={{ textAlign: \"center\", color: \"#ffb4b4\" }}>{err}</p>}\r\n      </div>\r\n\r\n      {selected ? (\r\n        <WeatherDetail data={selected} onBack={() => setSelected(null)} />\r\n      ) : (\r\n        <WeatherGrid list={cities} onOpen={setSelected} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW;AAClB,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,aAAa,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEvD,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkB,GAAG,EAAEC,MAAM,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;;EAElC;EACAD,SAAS,CAAC,MAAM;IACd,CAAC,YAAY;MACX,IAAI;QACF,MAAM;UAAEqB;QAAK,CAAC,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CAAC,cAAc,CAAC;QAChDR,SAAS,CAACO,IAAI,CAACR,MAAM,IAAI,EAAE,CAAC;MAC9B,CAAC,CAAC,OAAOU,CAAC,EAAE;QACVH,MAAM,CAAC,wBAAwB,CAAC;MAClC;IACF,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,eAAeI,QAAQA,CAACD,CAAC,EAAE;IACzBA,CAAC,CAACE,cAAc,CAAC,CAAC;IAClB,MAAMC,CAAC,GAAGT,KAAK,CAACU,IAAI,CAAC,CAAC;IACtB,IAAI,CAACD,CAAC,EAAE;IAER,IAAI;MACF,MAAM;QAAEL;MAAK,CAAC,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CAAC,sBAAsB,EAAE;QACvDM,MAAM,EAAE;UAAEC,IAAI,EAAEH;QAAE;MACpB,CAAC,CAAC;MACFV,WAAW,CAACK,IAAI,CAAC,CAAC,CAAC;MACnBD,MAAM,CAAC,EAAE,CAAC;IACZ,CAAC,CAAC,MAAM;MACNA,MAAM,CAAC,gCAAgC,CAAC;IAC1C;EACF;EAEA,oBACEZ,OAAA,CAAAE,SAAA;IAAAoB,QAAA,gBACEtB,OAAA;MAAKuB,SAAS,EAAC;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC7B3B,OAAA;MAAKuB,SAAS,EAAC,WAAW;MAAAD,QAAA,gBACxBtB,OAAA,CAACL,MAAM;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACV3B,OAAA,CAACJ,SAAS;QAACa,KAAK,EAAEA,KAAM;QAACC,QAAQ,EAAEA,QAAS;QAACM,QAAQ,EAAEA;MAAS;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAClEhB,GAAG,iBAAIX,OAAA;QAAG4B,KAAK,EAAE;UAAEC,SAAS,EAAE,QAAQ;UAAEC,KAAK,EAAE;QAAU,CAAE;QAAAR,QAAA,EAAEX;MAAG;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnE,CAAC,EAELpB,QAAQ,gBACPP,OAAA,CAACF,aAAa;MAACe,IAAI,EAAEN,QAAS;MAACwB,MAAM,EAAEA,CAAA,KAAMvB,WAAW,CAAC,IAAI;IAAE;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAElE3B,OAAA,CAACH,WAAW;MAACmC,IAAI,EAAE3B,MAAO;MAAC4B,MAAM,EAAEzB;IAAY;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAClD;EAAA,eACD,CAAC;AAEP;AAACvB,EAAA,CAnDuBD,GAAG;AAAA+B,EAAA,GAAH/B,GAAG;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}